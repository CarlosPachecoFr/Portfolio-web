---
import Footer from "../components/Footer.astro";
import Header from "../components/Header.astro";
---

<!doctype html>
<html lang="es">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Carlos Pacheco - Portfolio</title>
	</head>
	<body class="bg-[#F4F5F6]">
		<Header />
		<slot />
		<Footer />
		
		<!-- Script para que se abra y cierre el menú hamburguesas en móviles -->
			<script>
				const menuBtn = document.getElementById('menu-btn');
				const menuMovil = document.getElementById('menu-movil');

				
				if (menuBtn && menuMovil) {
					menuBtn.addEventListener('click', () => {
					menuMovil.classList.toggle('hidden');
					});
				}
			</script>

		<!-- Script para que funcione cada seccion del nav -->
		 <script>
			const links = document.querySelectorAll('.nav-link');

			links.forEach(link => {
				link.addEventListener('click', () => {
					links.forEach(l => l.classList.remove('text-[#33CE33]', 'drop-shadow-[0_0_8px_rgba(51,206,51,0.6)]'));
					link.classList.add('text-[#33CE33]', 'drop-shadow-[0_0_8px_rgba(51,206,51,0.6)]');
				});
			});

			const sections = document.querySelectorAll('section');
			window.addEventListener('scroll', () => {
				let scrollPos = window.scrollY + 100;
				sections.forEach(section => {
					const top = section.offsetTop;
					const bottom = top + section.offsetHeight;
					const id = section.getAttribute('id');
					const link = document.querySelector(`.nav-link[href="#${id}"]`);
					if (scrollPos >= top && scrollPos < bottom) {
						links.forEach(l => l.classList.remove('text-[#33CE33]', 'drop-shadow-[0_0_8px_rgba(51,206,51,0.6)]'));
						if (link) link.classList.add('text-[#33CE33]', 'drop-shadow-[0_0_8px_rgba(51,206,51,0.6)]');
					}
				});
			});
		 </script>
	</body>
</html>